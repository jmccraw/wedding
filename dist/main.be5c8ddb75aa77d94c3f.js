(()=>{"use strict";(()=>{var e=-1,t="";function n(){var n=window.innerHeight;(e>n&&e-n>120||e<n&&n-e>120)&&(e=n,document.documentElement.style.setProperty(t,"".concat(n,"px")))}var o=!1,i=768;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;i=e,o=window.innerWidth<e}function a(){return o}window.addEventListener("resize",(function(){r(i)}),{passive:!0});var c=document.querySelector(".nav"),s=document.querySelector(".nav__button"),l=c.querySelectorAll(".nav__link"),u="is-current",d="is-open";function f(){c.classList.toggle(d)}function p(e){l.forEach((function(t){t.classList.remove(u),t.href.indexOf(e)>-1&&(t.classList.add(u),window.history.pushState({},"",e))}))}function w(){window.gsap.set(".opener__container",{height:"100%",left:"50%",opacity:0,position:"fixed",top:0,width:"100%",x:"-50%",z:"0"}),window.gsap.set([".opener__justin",".opener__tyler",".opener__names",".nav"],{opacity:0}),window.gsap.set(".opener__arrow",{opacity:0,y:-10}),window.gsap.set(".opener__scroller",{height:"170vh",width:"100%"}),function(){var e=document.querySelectorAll(".image-load-check"),t=e.length;e.forEach((function(e){var n=document.createElement("img");n.onload=function(){n.onload=null,t--},n.setAttribute("src",e.getAttribute("xlink:href"))}));var n=window.setInterval((function(){0===t&&o()}),100),o=function(){window.clearInterval(n),document.querySelector(".wedding").classList.remove("is-loading"),window.gsap.timeline({scrollTrigger:{end:"bottom bottom",scrub:.5,start:"top top",trigger:".opener__scroller"}}).fromTo(".opener__background",{y:0},{y:-200},0).fromTo(".opener__fixed",{y:-10},{y:-800},0).fromTo(".opener__garden",{y:-50},{y:-650},0).fromTo(".opener__center",{y:-10},{y:-150},0).fromTo(".opener__justin",{y:-20,x:-10},{y:-500,x:0},0).fromTo(".opener__tyler",{y:-50,x:10},{y:-550,x:0},0).fromTo(".opener__accent-line",{opacity:0,y:-50},{delay:.2,opacity:1,y:0},0),window.setTimeout((function(){window.gsap.to(".opener__container",{opacity:1,duration:2})}),500),window.setTimeout((function(){window.gsap.to(".opener__justin",{opacity:1,duration:.5})}),1e3),window.setTimeout((function(){window.gsap.to(".opener__tyler",{opacity:1,duration:.5})}),1500),window.setTimeout((function(){window.gsap.to(".opener__names",{opacity:1,duration:1}),window.gsap.to(".opener__arrow",{opacity:1,y:0,duration:.5,delay:.5}),window.gsap.to(".nav",{opacity:1,duration:.5,delay:1}),window.ScrollTrigger.refresh()}),2e3)};window.setTimeout((function(){0<t&&o()}),3e3)}()}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,m(o.key),o)}}function g(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==y(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}var h=document.querySelectorAll(".photo-box"),_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"_el",void 0),g(this,"_polaroids",void 0),g(this,"timeline",void 0),g(this,"scrollTrigger",void 0),this._el=t,this._polaroids=t.querySelectorAll(".polaroids"),this.timeline=window.gsap.timeline({repeat:0}),this.scrollTrigger=null}var t,n;return t=e,n=[{key:"triggerTimelineAnimation",value:function(){this.timeline.play()}},{key:"watchForScrollTrigger",value:function(){var e=this;window.ScrollTrigger.create({trigger:e._el,start:"top center",end:"bottom top",once:!0,scrub:!1,pin:!1,markers:!1,onEnter:function(){return e.setTimelineAnimationStates()},onLeaveBack:function(){return e.setTimelineAnimationStates()}})}},{key:"setTimelineAnimationStates",value:function(){var e=this,t=e._polaroids.length-1,n=window.innerWidth/2,o=a();e._polaroids.forEach((function(i,r){var a,c=+i.dataset.offset;a=o?0:r===t?n-350:c>0?n-250:n-500,e.timeline.to(i,{duration:.35,x:a})}))}},{key:"setInitialOpenerStates",value:function(){var e=a(),t=window.innerWidth;this._polaroids.forEach((function(n){var o=+n.dataset.offset;o=o>0?e?.8*t:t-o:e?-.8*t:o,window.gsap.set(n,{x:o})}))}},{key:"recalculateLocations",value:function(){var e=this;e.timeline.kill(),e.timeline.invalidate(),window.ScrollTrigger.refresh(),e.setTimelineAnimationStates()}},{key:"bringToFront",value:function(e){var t=1;a()||(this._polaroids.forEach((function(e){var n=+e.style.zIndex;n>t&&(t=n)})),window.gsap.to(this._polaroids[e],{zIndex:t+1,delay:0,duration:0}))}},{key:"attachEventListener",value:function(){var e=this,t=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2?arguments[2]:void 0;return function(){var r=i||this,a=+new Date,c=arguments;t&&a<t+o?(window.clearTimeout(n),n=window.setTimeout((function(){t=a,e.apply(r,c)}),o)):(t=a,e.apply(r,c))}}(e.recalculateLocations,200,e),n=window.innerHeight;window.addEventListener("resize",(function(){Math.abs(n-window.innerHeight)>172&&t()}),{passive:!0}),e._polaroids.forEach((function(t,n){t.addEventListener("click",(function(){return e.bringToFront(n)}),{passive:!0})}))}},{key:"init",value:function(){this.setInitialOpenerStates(),this.watchForScrollTrigger(),this.attachEventListener()}}],n&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var b=null;function T(){var e=document.querySelectorAll(".is-lazy[data-src]");b=e,"undefined"!=typeof NodeList&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.gsap.utils.toArray(b).forEach((function(e){var t=e.dataset.src,n=document.createElement("img"),o=function(){n.onload=function(){n.onload=null,e.setAttribute("src",t),e.classList.remove("is-lazy"),i&&i.kill()},n.setAttribute("src",t)},i=window.ScrollTrigger.create({trigger:e,start:"-50% bottom",onEnter:o,onEnterBack:o})}))}document.addEventListener("DOMContentLoaded",(function(){0<"--fpi-vh".length&&(t="--fpi-vh"),n(),window.addEventListener("resize",n,{passive:!0}),r(767),function(){var e=document.querySelectorAll(".articles"),t=a();t||e.forEach((function(e){window.gsap.to(e,{scrollTrigger:{trigger:e,start:"top center",end:"bottom top",onToggle:function(){p("#".concat(e.id)),f()}}})})),l.forEach((function(e){t?e.addEventListener("click",f,{passive:!0}):e.addEventListener("click",(function(){return p(e.href)}),{passive:!0})})),s.addEventListener("click",f,{passive:!0})}(),w(),h.forEach((function(e){new _(e).init()})),T()}),{passive:!0})})()})();
//# sourceMappingURL=main.be5c8ddb75aa77d94c3f.js.map