{"version":3,"file":"main.a634d3e66836e6432c09.js","mappings":"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","sources":["webpack://wedding/./src/utilities/ViewportHeight.js","webpack://wedding/./src/utilities/IsMobile.js","webpack://wedding/./src/components/nav/Nav.ts","webpack://wedding/./src/components/opener/Opener.ts","webpack://wedding/./src/components/photo-box/photoBox.ts","webpack://wedding/./src/utilities/Throttle.js","webpack://wedding/./src/utilities/LazyLoadImages.js","webpack://wedding/./src/components/image-helper/ImageHelper.ts","webpack://wedding/./src/index.ts","webpack://wedding/./src/components/main/Main.ts"],"sourcesContent":["let oldVH = -1;\nlet variableName = '';\n\n/**\n * Sets the variableName\n */\nexport function setViewportHeightVariableName( newName ) {\n  if ( 0 < newName.length ) {\n    variableName = newName;\n  }\n}\n\n/**\n * Sets the mobile viewport height to be equivalent to 1% of the viewable screen space,\n * which includes browser chrome. Modified from CSS Tricks: http://bit.ly/2rMEhzN\n */\nfunction setCustomViewportHeight() {\n  const customVH = window.innerHeight;\n\n  if ( ( oldVH > customVH && oldVH - customVH > 120 )\n    || ( oldVH < customVH && customVH - oldVH > 120 ) ) {\n    oldVH = customVH;\n    document.documentElement.style.setProperty( variableName, `${customVH}px` );\n  }\n}\n\n/**\n * Initialize the viewport height JS\n */\nexport function initViewportHeight() {\n  setCustomViewportHeight();\n  window.addEventListener( 'resize', setCustomViewportHeight, { passive: true } );\n}\n","let isMobile = false;\nlet oldViewport = 768;\n\n/**\n * Sets the status of isMobile\n * @param {Number} viewport The viewport, in pixels, to determine if something lower is mobile\n */\nexport function setIsMobile(viewport = 768) {\n  oldViewport = viewport;\n  isMobile = window.innerWidth < viewport;\n}\n\n/**\n * Returns the status of\n */\nexport function getIsMobile() {\n  return isMobile;\n}\n\n/**\n * Attach event listeners that help determine whether if this is mobile\n */\nfunction attachEventListeners() {\n  window.addEventListener('resize', () => {\n    setIsMobile(oldViewport);\n  }, { passive: true } );\n}\n\n/**\n * Initialize the event handlers and set the initial value of isMobile\n */\nfunction init() {\n  attachEventListeners();\n}\n\ninit();\n","/**\n * Nav TS\n */\nimport { getIsMobile } from \"../../utilities/IsMobile\";\n\nconst _nav: HTMLElement = document.querySelector('.nav');\nconst _button: HTMLButtonElement = document.querySelector('.nav__button');\nconst _links: NodeListOf<HTMLLinkElement> = _nav.querySelectorAll('.nav__link');\n\nconst IS_CURRENT = 'is-current';\nconst IS_OPEN = 'is-open';\n\n/**\n * Opens/closes the Nav\n */\nfunction toggleNav() {\n  _nav.classList.toggle(IS_OPEN);\n}\n\n/**\n * Highlight the current href that's in view\n * @param {String} currentHref The current HREF to highlight\n */\nfunction highlightCurrentLink(currentHref: string) {\n  _links.forEach((_link: HTMLLinkElement) => {\n    _link.classList.remove(IS_CURRENT);\n    if (_link.href.indexOf(currentHref) > -1) {\n      _link.classList.add(IS_CURRENT);\n      window.history.pushState({}, '', currentHref);\n    }\n  });\n}\n\nfunction initiateNav() {\n  const _articles = document.querySelectorAll('.articles');\n  const isMobile = getIsMobile();\n\n  if (!isMobile) {\n    _articles.forEach((_article: HTMLLinkElement) => {\n      window.gsap.to(_article, {\n        scrollTrigger: {\n          trigger: _article,\n          start: 'top center',\n          end: 'bottom top',\n          onToggle: () => {\n            highlightCurrentLink(`#${_article.id}`);\n            toggleNav();\n          },\n        }\n      });\n    });\n  }\n\n  _links.forEach((_link: HTMLLinkElement) => {\n    if (!isMobile) _link.addEventListener('click', () => highlightCurrentLink(_link.href), { passive: true });\n    else _link.addEventListener('click', toggleNav, { passive: true });\n  });\n\n  _button.addEventListener('click', toggleNav, { passive: true });\n}\n\n/**\n * Nav functions\n */\nexport default function init() {\n  initiateNav();\n}\n","/**\n * Opener TS\n */\n\n/**\n * Opener animation sequence and scroll triggers\n * Modified from Tom Miller's CodePen\n * {@link https://codepen.io/creativeocean/pen/qBbBLyB}\n */\nfunction initiateOpenerSequence() {\n  const _wedding = document.querySelector('.wedding');\n  _wedding.classList.remove('is-loading');\n\n  window.gsap.timeline({ scrollTrigger:\n      {\n        end: 'bottom bottom',\n        scrub: 0.5,\n        start: 'top top',\n        trigger: '.opener__scroller',\n      }\n    })\n    .fromTo('.opener__background', { y: 0 }, { y: -200 }, 0)\n    .fromTo('.opener__fixed', { y: -10 }, { y: -800 }, 0)\n    .fromTo('.opener__garden', { y: -50 }, { y: -650 }, 0)\n    .fromTo('.opener__center', { y: -10 }, { y: -150 }, 0)\n    .fromTo('.opener__justin', { y: -20, x: -10 }, { y: -500, x: 0 }, 0)\n    .fromTo('.opener__tyler', { y: -50, x: 10 }, { y: -550, x: 0}, 0)\n    .fromTo('.opener__accent-line', { opacity: 0, y: -50 }, { delay: 0.2, opacity: 1, y: 0 }, 0);\n\n  window.setTimeout(() => {\n    window.gsap.to('.opener__container', { opacity: 1, duration: 2 });\n  }, 500);\n\n  window.setTimeout(() => {\n    window.gsap.to('.opener__justin', { opacity: 1, duration: 0.5 });\n  }, 1000);\n\n  window.setTimeout(() => {\n    window.gsap.to('.opener__tyler', { opacity: 1, duration: 0.5 });\n  }, 1500);\n\n  window.setTimeout(() => {\n    window.gsap.to('.opener__names', { opacity: 1, duration: 1 });\n    window.gsap.to('.opener__arrow', { opacity: 1, y: 0, duration: 0.5, delay: 0.5 });\n    window.gsap.to('.nav', { opacity: 1, duration: 0.5, delay: 1 });\n    window.ScrollTrigger.refresh();\n  }, 2000);\n}\n\nfunction enterLoadingState() {\n  const _images: NodeList = document.querySelectorAll('.image-load-check');\n  let imagesToLoad = _images.length;\n\n  _images.forEach((_image: SVGImageElement) => {\n    const _newImage = document.createElement('img');\n\n    _newImage.onload = () => {\n      _newImage.onload = null;\n      imagesToLoad--;\n    };\n\n    _newImage.setAttribute('src', _image.getAttribute('xlink:href'));\n  });\n\n  const checkInterval = window.setInterval(() => {\n    if (0 === imagesToLoad) {\n      clearIntervalAndInitiateOpener();\n    }\n  }, 100);\n\n  const clearIntervalAndInitiateOpener = () => {\n    window.clearInterval(checkInterval);\n    initiateOpenerSequence();\n  };\n\n  window.setTimeout(() => {\n    if (0 < imagesToLoad) clearIntervalAndInitiateOpener();\n  }, 3000);\n}\n\nfunction setInitialGsapStates() {\n  window.gsap.set('.opener__container', {\n    height: '100%',\n    left: '50%',\n    opacity: 0,\n    position: 'fixed',\n    top: 0,\n    width: '100%',\n    x: '-50%',\n    z: '0',\n  });\n\n  window.gsap.set(['.opener__justin', '.opener__tyler', '.opener__names', '.nav'], {\n    opacity: 0,\n  });\n\n  window.gsap.set('.opener__arrow', {\n    opacity: 0,\n    y: -10,\n  });\n\n  window.gsap.set('.opener__scroller', {\n    height: '170vh',\n    width: '100%',\n  });\n}\n\nexport default function init() {\n  setInitialGsapStates();\n  enterLoadingState();\n}\n","/**\n * Helper functions to accommodate creation of a Polaroid experience\n */\nimport { throttle } from '../../utilities/Throttle';\nimport { getIsMobile } from '../../utilities/IsMobile';\n\nconst _photoBoxes: NodeListOf<Element> = document.querySelectorAll('.photo-box');\n\n/**\n * Create a Polaroid class to deal with animating images\n */\nclass PhotoBox {\n  _el: Element;\n  _polaroids: NodeListOf<Element>;\n  timeline: any;\n  scrollTrigger: any;\n\n  /**\n   * Polaroid constructor\n   * @param {Element} _el The selector housing the polaroids\n   */\n  constructor(_el: Element) {\n    this._el = _el;\n    this._polaroids = _el.querySelectorAll('.polaroids');\n    this.timeline = window.gsap.timeline({ repeat: 0 });\n    this.scrollTrigger = null;\n  }\n\n  /**\n   * Triggers the timeline animation to run\n   */\n  triggerTimelineAnimation() {\n    const self = this;\n\n    self.timeline.play();\n  }\n\n  /**\n   * Adds the ScrollTrigger event for when to animate in the Polaroid sequence\n   */\n  watchForScrollTrigger() {\n    const self = this;\n\n    window.ScrollTrigger.create({\n      trigger: self._el,\n      start: 'top center',\n      end: 'bottom top',\n      once: true,\n      scrub: false,\n      pin: false,\n      markers: false,\n      onEnter: () => self.setTimelineAnimationStates(),\n      onLeaveBack: () => self.setTimelineAnimationStates(),\n    });\n  }\n\n  /**\n   * Register where the Polaroids should animate to\n   */\n  setTimelineAnimationStates() {\n    const self = this;\n    const durationOffset = 0.35;\n    const length = self._polaroids.length - 1;\n    const halfWindow = window.innerWidth / 2;\n    const isMobile = getIsMobile();\n\n    self._polaroids.forEach((_polaroid: any, index: number) => {\n      const offset = +_polaroid.dataset.offset;\n      let restingOffset;\n\n      if (isMobile) {\n        restingOffset = 0;\n      } else if (index === length) {\n        restingOffset = halfWindow - 350;\n      } else {\n        restingOffset = offset > 0 ? halfWindow - 250 : halfWindow - 500;\n      }\n\n      self.timeline.to(_polaroid, {\n        duration: durationOffset,\n        x: restingOffset,\n      });\n    });\n  }\n\n  /**\n   * Sets the initial starting positions for the various images\n   */\n  setInitialOpenerStates() {\n    const self = this;\n    const isMobile = getIsMobile();\n    const innerWidth = window.innerWidth;\n\n    self._polaroids.forEach((_polaroid: any) => {\n      let offset = +_polaroid.dataset.offset;\n\n      if (offset > 0) {\n        offset = isMobile ? innerWidth * 0.8 : innerWidth - offset;\n      } else {\n        offset = isMobile ? innerWidth * -0.8 : offset;\n      }\n\n      window.gsap.set(_polaroid, {\n        x: offset,\n      });\n    });\n  }\n\n  recalculateLocations() {\n    const self = this;\n\n    self.timeline.kill();\n    self.timeline.invalidate();\n    window.ScrollTrigger.refresh();\n    self.setTimelineAnimationStates();\n  }\n\n  bringToFront(frontIndex: number) {\n    const self = this;\n    let maxZIndex = 1;\n\n    if (getIsMobile()) return;\n\n    self._polaroids.forEach((_polaroid: HTMLElement) => {\n      const polaroidZIndex = +_polaroid.style.zIndex;\n      if (polaroidZIndex > maxZIndex) maxZIndex = polaroidZIndex;\n    });\n\n    window.gsap.to(self._polaroids[frontIndex], {\n      zIndex: maxZIndex + 1,\n      delay: 0,\n      duration: 0,\n    });\n  }\n\n  attachEventListener() {\n    const self = this;\n    const throttledRecalc = throttle(self.recalculateLocations, 200, self);\n    let oldHeight = window.innerHeight;\n\n    // @ts-ignore\n    window.addEventListener('resize', () => {\n      if (Math.abs(oldHeight - window.innerHeight) > 172) {\n        throttledRecalc();\n      }\n    }, { passive: true });\n\n    self._polaroids.forEach((_polaroid, index) => {\n      _polaroid.addEventListener('click', () => self.bringToFront(index), { passive: true });\n    });\n  }\n\n  /**\n   * Initialize the Polaroid\n   */\n  init() {\n    this.setInitialOpenerStates();\n    this.watchForScrollTrigger();\n    this.attachEventListener();\n  }\n};\n\nfunction constructPhotoBoxes() {\n  _photoBoxes.forEach((_photoBox: Element) => {\n    const photoBox = new PhotoBox(_photoBox);\n    photoBox.init();\n  });\n}\n\nexport default function init() {\n  constructPhotoBoxes();\n}\n","\n/**\n * Throttle helper to reduce event calls\n * Modified from Remy Sharp: https://remysharp.com/2010/07/21/throttling-function-calls\n * @param fn\n * @param threshhold\n * @param scope\n * @returns {Function}\n */\nexport function throttle(fn, threshhold = 250, scope) {\n  let last;\n  let deferTimer;\n  return function() {\n    const context = scope || this;\n\n    let now = +new Date;\n    let args = arguments;\n    if ( last && now < last + threshhold ) {\n      window.clearTimeout( deferTimer );\n      deferTimer = window.setTimeout( function() {\n        last = now;\n        fn.apply( context, args );\n      }, threshhold );\n    } else {\n      last = now;\n      fn.apply( context, args );\n    }\n  };\n}\n","let _lazyPictures = null;\n\n/**\n * Sets the _lazyPictures variable\n */\nexport function setLazyPictures( _els ) {\n  _lazyPictures = _els;\n}\n\n/**\n * Checks for lazy images loading in\n */\nfunction checkForLazyImages() {\n\n  // Modified from https://codepen.io/GreenSock/pen/OJMaEOP\n\n  window.gsap.utils.toArray( _lazyPictures ).forEach( ( _image ) => {\n    let newSrc = _image.dataset.src;\n    let _newImage = document.createElement(\"img\");\n\n    let loadImage = () => {\n      _newImage.onload = () => {\n\n        // Avoid recursion\n        _newImage.onload = null;\n        _image.setAttribute( 'src', newSrc );\n        _image.classList.remove( 'is-lazy' );\n        st && st.kill();\n      }\n      _newImage.setAttribute( 'src', newSrc );\n    };\n\n    let st = window.ScrollTrigger.create( {\n      trigger: _image,\n      start: '-50% bottom',\n      onEnter: loadImage,\n\n      // Make sure it works in either direction\n      onEnterBack: loadImage\n    } );\n  } );\n}\n\nexport function watchForLazyImages() {\n\n  // Shim for forEach on NodeLists\n  // From https://stackoverflow.com/a/46057817/1472477\n  if ( typeof NodeList !== 'undefined' && NodeList.prototype && ! NodeList.prototype.forEach ) {\n    NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n\n  checkForLazyImages();\n}\n","import { setLazyPictures, watchForLazyImages } from '../../utilities/LazyLoadImages.js';\n\n/**\n * Initialize the Image Helper\n */\nexport default function init() {\n  const _lazyImages = document.querySelectorAll( '.is-lazy[data-src]' );\n  setLazyPictures( _lazyImages );\n  watchForLazyImages();\n}","import { initViewportHeight, setViewportHeightVariableName } from './utilities/ViewportHeight.js';\nimport initMain from './components/main/Main';\nimport initNav from './components/nav/Nav';\nimport initOpener from './components/opener/Opener';\nimport initPhotoBox from './components/photo-box/photoBox';\nimport initImageHelper from './components/image-helper/ImageHelper';\n\ndeclare global {\n  interface Window {\n    gsap: any;\n    ScrollToPlugin: any;\n    ScrollTrigger: any;\n  }\n}\n\nconst App = () => {\n  // TODO FIXME\n  setViewportHeightVariableName('--fpi-vh');\n  initViewportHeight();\n  initMain();\n  initNav();\n  initOpener();\n  initPhotoBox();\n  initImageHelper();\n};\n\ndocument.addEventListener('DOMContentLoaded', App, { passive: true });\n","/**\n * Main TS\n */\nimport { setIsMobile } from '../../utilities/IsMobile.js';\n\n/**\n * Initialize Main\n */\nexport default function init() {\n  setIsMobile(767);\n}\n"],"names":["oldVH","variableName","setCustomViewportHeight","customVH","window","innerHeight","document","documentElement","style","setProperty","isMobile","oldViewport","setIsMobile","viewport","innerWidth","getIsMobile","addEventListener","passive","_nav","querySelector","_button","_links","querySelectorAll","IS_CURRENT","IS_OPEN","toggleNav","classList","toggle","highlightCurrentLink","currentHref","forEach","_link","remove","href","indexOf","add","history","pushState","init","gsap","set","height","left","opacity","position","top","width","x","z","y","_images","imagesToLoad","length","_image","_newImage","createElement","onload","setAttribute","getAttribute","checkInterval","setInterval","clearIntervalAndInitiateOpener","clearInterval","timeline","scrollTrigger","end","scrub","start","trigger","fromTo","delay","setTimeout","to","duration","ScrollTrigger","refresh","enterLoadingState","_photoBoxes","PhotoBox","_el","this","_polaroids","repeat","play","self","create","once","pin","markers","onEnter","setTimelineAnimationStates","onLeaveBack","halfWindow","_polaroid","index","restingOffset","offset","dataset","kill","invalidate","frontIndex","maxZIndex","polaroidZIndex","zIndex","throttledRecalc","fn","last","deferTimer","threshhold","scope","context","now","Date","args","arguments","clearTimeout","apply","throttle","recalculateLocations","oldHeight","Math","abs","bringToFront","setInitialOpenerStates","watchForScrollTrigger","attachEventListener","_lazyPictures","_lazyImages","NodeList","prototype","Array","utils","toArray","newSrc","src","loadImage","st","onEnterBack","_articles","_article","onToggle","id","initiateNav","initOpener","_photoBox","initImageHelper"],"sourceRoot":""}